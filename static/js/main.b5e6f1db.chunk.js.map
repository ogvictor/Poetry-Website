{"version":3,"sources":["components/navbar.jsx","components/poem/vote.jsx","components/poem/poem.jsx","components/topPoems.jsx","components/singlePoem.jsx","components/sharePoem.jsx","App.js","index.js"],"names":["Navbar","href","Vote","props","useState","isVoted","setIsVoted","voteCount","votes","setVotes","className","onClick","axios","method","url","id","params","headers","bob","Poem","title","author","text","children","slice","TopPoems","sortedPoems","setSortedPoems","useEffect","then","res","data","sort","a","b","length","map","_id","SinglePoem","poemInfo","setPoemInfo","useParams","SharePoem","setTitle","setAuthor","setText","errormsg","setErrormsg","onSubmit","e","preventDefault","htmlFor","type","onChange","target","value","name","cols","rows","placeholder","style","color","window","location","replace","App","Fragment","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b5e6f1db.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport default function Navbar() {\r\n  return (\r\n    <nav>\r\n      <a href=\"/\">Home</a>\r\n      <a href=\"/share\">Share A Poem</a>\r\n    </nav>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Vote(props) {\r\n  const [isVoted, setIsVoted] = useState(false);\r\n  const [votes, setVotes] = useState(props.voteCount);\r\n\r\n  function AddVote() {\r\n    //HTTP REQUEST\r\n    axios({\r\n      method: \"put\",\r\n      url: `http://wictor147poetryapi.herokuapp.com/api/poems/${props.id}`,\r\n      params: {},\r\n      headers: {\r\n        bob: \"Bobalooba\",\r\n      },\r\n    });\r\n\r\n    //Increment Vote Count\r\n    let v = votes;\r\n    setVotes(v + 1);\r\n    setIsVoted(true);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <span\r\n        className=\"clickable\"\r\n        onClick={() => {\r\n          !isVoted && AddVote();\r\n        }}\r\n      >\r\n        {isVoted ? \"üß°\" : \"ü§ç\"}\r\n      </span>\r\n      <span>{votes}</span>\r\n    </div>\r\n  );\r\n}\r\n","import Vote from \"./vote\";\r\nimport ReactMarkdown from \"react-markdown\";\r\n\r\nexport default function Poem({ id, title, author, text, votes }) {\r\n  return (\r\n    <div className=\"poem\">\r\n      <div>\r\n        <h3>{title}</h3>\r\n        <small>{author}</small>\r\n      </div>\r\n      <ReactMarkdown children={`${text.slice(0, 100)}...`} />\r\n      <a href={`/poem/${id}`}>read more</a>\r\n      <Vote voteCount={votes} id={id} />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Poem from \"./poem/poem\";\r\n\r\nexport default function TopPoems() {\r\n  const [sortedPoems, setSortedPoems] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios({\r\n      method: \"get\",\r\n      url: \"http://wictor147poetryapi.herokuapp.com/api/poems/\",\r\n      params: {},\r\n      headers: {\r\n        bob: \"Bobalooba\",\r\n      },\r\n    }).then((res) => {\r\n      const sortedPoems = res.data.sort((a, b) => {\r\n        if (a.votes < b.votes) {\r\n          return 1;\r\n        } else if (a.votes > b.votes) {\r\n          return -1;\r\n        } else {\r\n          return 0;\r\n        }\r\n      });\r\n      setSortedPoems(sortedPoems);\r\n    });\r\n  }, []);\r\n\r\n  return sortedPoems.length === 0 ? (\r\n    <section className=\"poems\">\r\n      <h1>There is no poems yet, how about sharing the first one?</h1>\r\n    </section>\r\n  ) : (\r\n    <section className=\"poems\">\r\n      {sortedPoems.map(({ _id, title, author, text, votes }) => (\r\n        <Poem\r\n          key={_id}\r\n          id={_id}\r\n          title={title}\r\n          author={author}\r\n          text={text}\r\n          votes={votes}\r\n        />\r\n      ))}\r\n    </section>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport Vote from \"./poem/vote\";\r\n\r\nexport default function SinglePoem() {\r\n  const [poemInfo, setPoemInfo] = useState({});\r\n\r\n  const { id } = useParams();\r\n  useEffect(() => {\r\n    axios({\r\n      method: \"get\",\r\n      url: `http://wictor147poetryapi.herokuapp.com/api/poems/${id}`,\r\n      params: {},\r\n      headers: {\r\n        bob: \"Bobalooba\",\r\n      },\r\n    }).then((res) => setPoemInfo(res.data));\r\n  }, [id]);\r\n\r\n  const { title, author, text, votes } = poemInfo;\r\n  return !title || !author || !text ? (\r\n    <div>\r\n      <h1>Couldn't find poem</h1>\r\n      <a href=\"/\">Main page</a>\r\n    </div>\r\n  ) : (\r\n    <div className=\"single-poem\">\r\n      <h1>{title}</h1>\r\n      <p>Written by {author}</p>\r\n      <ReactMarkdown children={text} />\r\n      <Vote voteCount={votes} />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function SharePoem() {\r\n  const [title, setTitle] = useState();\r\n  const [author, setAuthor] = useState();\r\n  const [text, setText] = useState();\r\n  const [errormsg, setErrormsg] = useState();\r\n\r\n  function addPoem() {\r\n    if (!title || !author || !text) {\r\n      setErrormsg(\"All fields are required.\");\r\n      return;\r\n    }\r\n\r\n    axios({\r\n      method: \"post\",\r\n      url: \"http://wictor147poetryapi.herokuapp.com/api/poems/\",\r\n      headers: {\r\n        bob: \"Bobalooba\",\r\n      },\r\n      data: {\r\n        title,\r\n        author,\r\n        text,\r\n      },\r\n    }).then((res) => window.location.replace(`/poem/${res.data._id}`));\r\n  }\r\n  return (\r\n    <section>\r\n      <form\r\n        onSubmit={(e) => e.preventDefault()}\r\n        className=\"share-poem\"\r\n        method=\"POST\"\r\n      >\r\n        <h1>Share a poem</h1>\r\n        <div className=\"form-field\">\r\n          <label htmlFor=\"title\">Title</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"title\"\r\n            onChange={(e) => setTitle(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"form-field\">\r\n          <label htmlFor=\"text\">Poem</label>\r\n          <textarea\r\n            name=\"text\"\r\n            id=\"text\"\r\n            cols=\"30\"\r\n            rows=\"10\"\r\n            placeholder=\"Use Markdown\"\r\n            onChange={(e) => setText(e.target.value)}\r\n          ></textarea>\r\n          <a href=\"https://www.markdownguide.org/cheat-sheet/\">\r\n            <small>About Markdown</small>\r\n          </a>\r\n        </div>\r\n        <div className=\"form-field\">\r\n          <label htmlFor=\"author\">Author</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"author\"\r\n            onChange={(e) => setAuthor(e.target.value)}\r\n          />\r\n        </div>\r\n        <small style={{ color: \"red\" }}>{errormsg}</small>\r\n        <button onClick={addPoem} type=\"submit\">\r\n          Share\r\n        </button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./styles.css\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\n\r\nimport Navbar from \"./components/navbar\";\r\nimport TopPoems from \"./components/topPoems\";\r\nimport SinglePoem from \"./components/singlePoem\";\r\nimport SharePoem from \"./components/sharePoem\";\r\n\r\nexport default function App() {\r\n  return (\r\n    <React.Fragment>\r\n      <Navbar />\r\n      <Router>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={TopPoems} />\r\n          <Route path=\"/poem/:id\" component={SinglePoem} />\r\n          <Route path=\"/share\" component={SharePoem} />\r\n        </Switch>\r\n      </Router>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}